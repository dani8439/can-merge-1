# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/)
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## v0.1.0 - 2022-04-05

### Fixed

- [Fix] note bypassable restrictions [`#23`](https://github.com/ljharb/can-merge/issues/23)

### Commits

- Initial implementation + tests [`63b0163`](https://github.com/ljharb/can-merge/commit/63b01630f92fb867c5cccd749c9f31b72bbd58c4)
- [Tests] extract mock JSON into individual files [`6fc35e4`](https://github.com/ljharb/can-merge/commit/6fc35e4935a09f77297c7edce301e83f3416a117)
- [Refactor] `evaluatePRs` -&gt; `parsePullRequest` [`f0a6274`](https://github.com/ljharb/can-merge/commit/f0a62747756181ad25997fa083801f81d1361468)
- [New] infer PR [`fd0596c`](https://github.com/ljharb/can-merge/commit/fd0596cd3e4ea6dcfe25c59ae3c98730e36edd73)
- [Tests] Separated out testing from one file to standard separation of concerns. [`0fbc015`](https://github.com/ljharb/can-merge/commit/0fbc0157fcb4c57a5eaf1e455fde4816b81216ad)
- [New] add `--commit` to check status of commits instead of just PRs [`9e65a6a`](https://github.com/ljharb/can-merge/commit/9e65a6ae722fb43ed2ce3560246ee59ee346c942)
- [New] infer PR from current SHA [`577f9c5`](https://github.com/ljharb/can-merge/commit/577f9c5f41b916a8375b562b357c5b89b86ffb61)
- [Refactor] `evaluatePullRequest`: return enum [`2cf9aef`](https://github.com/ljharb/can-merge/commit/2cf9aef831e1ab76587b9e7b036f2efb90d5ca64)
- [refactor] clean up templates, whitespace [`c866a30`](https://github.com/ljharb/can-merge/commit/c866a309d2f764eef09aa0d91b005fb0cb550f2b)
- Initial commit [`2ab3086`](https://github.com/ljharb/can-merge/commit/2ab3086400e118d21c61bcd464afc8cbcf05e6c7)
- [meta] do not publish workflow files, etc [`ce6c235`](https://github.com/ljharb/can-merge/commit/ce6c23589ac63b0f1cacd60fe4341ab774eceaef)
- [readme] update readme with usage and cli reference [`de9befd`](https://github.com/ljharb/can-merge/commit/de9befdd3e52feddd8b2d0f9f5e646c2615fc48e)
- [Tests] add ci workflows [`f8dc8fb`](https://github.com/ljharb/can-merge/commit/f8dc8fbed65b221247776435f56bbcec90dcf8ca)
- [Refactor] remove utilities, refactor evaluatePR function [`fc11dd3`](https://github.com/ljharb/can-merge/commit/fc11dd3fa7e54292dea35b01df4fc4c9373d6276)
- [Refactor] add `.strict()` and `.help()`; add `$GH_TOKEN`; weigh `--token` higher, tweak logic [`3cbcd84`](https://github.com/ljharb/can-merge/commit/3cbcd84d7073542077dbe5081d41d57d67b88cba)
- [actions] reuse common workflows [`8898ab3`](https://github.com/ljharb/can-merge/commit/8898ab359738e0db1ccf96cb6d65c5b40f015c08)
- [New] add `--watch` to poll for changes every N seconds [`5d170a5`](https://github.com/ljharb/can-merge/commit/5d170a5ffc13df58684d506660747ea8fdd46bb6)
- [Readme] update usage in README; use md-magic to keep help output in sync [`62537ec`](https://github.com/ljharb/can-merge/commit/62537ec6bae050b87c0725b9054755742e98a0cf)
- [meta] improve CONTRIBUTING.md [`f7e0c4c`](https://github.com/ljharb/can-merge/commit/f7e0c4cabb2f000f9259d23d1ebd272b7f5de1e6)
- [Refactor] evaluateChecks: some cleanup [`ba45670`](https://github.com/ljharb/can-merge/commit/ba45670d8be381f3e3a78140ebbe827064faa787)
- [New] Add `--remote` flag [`b0e2faa`](https://github.com/ljharb/can-merge/commit/b0e2faa53c3390c4798a101b5aa1ec2f921ea177)
- chore: setup eslint and editorconfig [`4b7741c`](https://github.com/ljharb/can-merge/commit/4b7741c5fa4d97255cd40e93c44f9c993ca26ab6)
- [Refactor] group individual status checks by status [`6c07b4a`](https://github.com/ljharb/can-merge/commit/6c07b4abd7d3702b9339e4d647cca0ac6cd5fa46)
- [Fix] fix error when PR arg is specified [`b84de64`](https://github.com/ljharb/can-merge/commit/b84de64b709ad2afb029929f2c1a7ebc300f7414)
- [Fix] pr inference [`ba83be9`](https://github.com/ljharb/can-merge/commit/ba83be94089bf4b49fbf27157e17b7012a446be8)
- [New] check GitHub for redirect before query [`4dc956b`](https://github.com/ljharb/can-merge/commit/4dc956bbaa37596dce777977aa3c3fa6d447a907)
- [New] add `resolveIndentifier` and support a commit-ish SHA [`d373ddf`](https://github.com/ljharb/can-merge/commit/d373ddf8c63a2273cb08ff1cedad9e4e73d005f6)
- [Fix] `getRepo`, `getSHA`: have them take a dir path; `getRepo` should handle https git urls [`3d22632`](https://github.com/ljharb/can-merge/commit/3d226329abafe477103fac2c11027005a0a86dc0)
- [Refactor] log checks in bin/can-merge [`6d01272`](https://github.com/ljharb/can-merge/commit/6d01272f8d63d17765b185df9db02cc27fc29e32)
- [meta] add `auto-changelog` [`9a4dd18`](https://github.com/ljharb/can-merge/commit/9a4dd1897ef1e7ad27c1db9332cb9a62a890a05a)
- [Refactor] move into `parseRemoteUrl` for reuse [`435fa9e`](https://github.com/ljharb/can-merge/commit/435fa9e2fb41b7b190cfac334883a6430343c7f7)
- [meta] update CONTRIBUTING.md env var instructions [`5dd6b44`](https://github.com/ljharb/can-merge/commit/5dd6b444be34c1c45d778570707b1f23e339e914)
- [New] catch errors from `runQuery` [`3a6fa74`](https://github.com/ljharb/can-merge/commit/3a6fa74d6c38de7ef5c371c0c34310f1107d033d)
- Add logger [`75a9319`](https://github.com/ljharb/can-merge/commit/75a9319aa74a3e98e5df02c58d1ce4934176a75a)
- [New] add `utils/filterPullRequest` [`dcdec27`](https://github.com/ljharb/can-merge/commit/dcdec27e565e7cd10e7487055c2f0a12fbe0da34)
- Updated Contributing.md. [`be441fc`](https://github.com/ljharb/can-merge/commit/be441fc9bdfe2ee153a236d57dfaa03b15d6454e)
- [Test] Add tests for `getSHA` [`eeb3413`](https://github.com/ljharb/can-merge/commit/eeb34138075dec5985aa97516a72cf71de273c5a)
- [Refactor] Use `git-repo-info` to return `sha`, and get the repo [`a7da80b`](https://github.com/ljharb/can-merge/commit/a7da80b5a2458400f35bce3c6bf85b7659b2e1da)
- [Docs] creates CONTRIBUTING.md [`d09713b`](https://github.com/ljharb/can-merge/commit/d09713baa2ca1d139983c386f92c6c4457572589)
- fix:execute on mac [`1750e19`](https://github.com/ljharb/can-merge/commit/1750e1992b3f3756134cde957151f19dc91bc6db)
- [Tests] add tests for `evaluteCommitStatus` [`a5e22a7`](https://github.com/ljharb/can-merge/commit/a5e22a7bc6cae0796c07a716cfb32123a7fd813a)
- [Refactor] Log output in bin/can-merge [`d9f4508`](https://github.com/ljharb/can-merge/commit/d9f45084892300fe501e3919833a1371b78e8f4a)
- [Refactor] use a normal function for the export of a module [`8a767d8`](https://github.com/ljharb/can-merge/commit/8a767d8d7840f24eaed7fd26a53652919edb0889)
- Add pr enum defining various cases [`9745b49`](https://github.com/ljharb/can-merge/commit/9745b49f53270d275f359fa884e5a48401777abe)
- Revert back to original commit [`1b53e02`](https://github.com/ljharb/can-merge/commit/1b53e0221ee646cb29fb6adeeb7568a11ed6ee77)
- added test for pull request status [`1a10e78`](https://github.com/ljharb/can-merge/commit/1a10e78bf6d915f86043bf970e23a8421768c974)
- [meta] create FUNDING.yml [`1440062`](https://github.com/ljharb/can-merge/commit/144006235cfd0eaa2b43c51150741efeddaf68db)
- [Refactor] `runQuery`: convert args to object [`84bca41`](https://github.com/ljharb/can-merge/commit/84bca415bef6284e94e6ad76f2f9a211ed2c4dfb)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config` [`7115197`](https://github.com/ljharb/can-merge/commit/7115197d0580a9ee3761b1c7f75c728ac06c02df)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config`, `tape` [`4e0a3d6`](https://github.com/ljharb/can-merge/commit/4e0a3d687cc01e9c51ba50b58d853c890f614c25)
- [New] default `--sha` to `HEAD`; automatically transform that to the current SHA [`34d7561`](https://github.com/ljharb/can-merge/commit/34d75617f0c9ced8ff0df376756949d936a129d9)
- [Fix] filter out unwanted prs when `pr` flag specified [`fa4adfa`](https://github.com/ljharb/can-merge/commit/fa4adfae120bccf735f41ee8fec2a8513551558e)
- [Fix] remove `sha` when `pr` set in search api [`f1a4469`](https://github.com/ljharb/can-merge/commit/f1a44697d2d34f12584f04a5124cc9f4a9562ddc)
- [Refactor] Remove `git` dependency by utilizing `parse-git-config` [`b164213`](https://github.com/ljharb/can-merge/commit/b164213c06eb134507849cdfc7481eb84e59b88c)
- [Fix] Infer PR for `watch` [`ae0fc09`](https://github.com/ljharb/can-merge/commit/ae0fc0903ea20004529bc7faf39755c17eb81516)
- [Tests] skip instead of TODO tests [`ecd2c0e`](https://github.com/ljharb/can-merge/commit/ecd2c0ed428710adceea66cd7bce12e70630d355)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config`, `aud`, `tape` [`20c8edd`](https://github.com/ljharb/can-merge/commit/20c8eddfc24874cdd9c6c1281c49408d8080dc6c)
- [Refactor] bin: Move output logic into function [`f25f9b6`](https://github.com/ljharb/can-merge/commit/f25f9b60b7fc12f2fa805b9fbc5f23cd3a94f5a3)
- [Test] Add tests for `getRepo` [`1762a20`](https://github.com/ljharb/can-merge/commit/1762a209507da84680a8977c9a6d11abe7d7aee0)
- [Fix] use short sha [`1fce630`](https://github.com/ljharb/can-merge/commit/1fce6307e0826d132679e0886a0b2ff978c423b2)
- [New] Display API points used and remaining after every command [`bfbf166`](https://github.com/ljharb/can-merge/commit/bfbf166a237ac051343c2add5c7c621b94255a94)
- [New] Exit with nonzero code on unmergeable [`c28af03`](https://github.com/ljharb/can-merge/commit/c28af032b3bce513a3664309517c0d0a99ac365e)
- fix: regex handle http, https and ssh [`5237703`](https://github.com/ljharb/can-merge/commit/52377038427a94338a3de9845d64e5b81c7c22a8)
- [patch] move some console output to stderr [`0d50d0c`](https://github.com/ljharb/can-merge/commit/0d50d0cf98a3adabd74bf263fda2a7275e542831)
- [Refactor] `logger` -&gt; `getMessage` [`f05d26d`](https://github.com/ljharb/can-merge/commit/f05d26dec3dcc96c27ef4eab2e1bc49aaa7cc344)
- [Refactor] `getSHA`: default to the long SHA; optionally return the short one [`7820480`](https://github.com/ljharb/can-merge/commit/78204800aece84fe4aca18d75622abeee71717c6)
- [Deps] update `@octokit/graphql`, `chalk`, `yargs` [`21bf45f`](https://github.com/ljharb/can-merge/commit/21bf45fabdb4c718a7360707a8b4200345b65661)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config`, `tape` [`003130d`](https://github.com/ljharb/can-merge/commit/003130d2cd6913004435498f911130b20a01d15d)
- [patch] Show info about repo and pull request [`173289f`](https://github.com/ljharb/can-merge/commit/173289f97e08a96545e3eb9e79687db3a0e5dcc2)
- [Dev Deps] update `eslint`, `@ljharb/eslint-config` [`998e48d`](https://github.com/ljharb/can-merge/commit/998e48db03f9093c83219833658d9edfefa58378)
- [Breaking] require node 14, to allow optional chaining [`7655554`](https://github.com/ljharb/can-merge/commit/7655554dccbdc84cbd9c20ef0e9d64f3931251c5)
- [meta] use `prepublishOnly` script for npm 7+ [`33acb0b`](https://github.com/ljharb/can-merge/commit/33acb0b28dc1d8a76969760122f8ac4e686b5f0b)
- [actions] update codecov uploader [`8bdc993`](https://github.com/ljharb/can-merge/commit/8bdc993aa9863ee7701f85da77ac066ad290b605)
- [eslint] fix linting errors [`6061490`](https://github.com/ljharb/can-merge/commit/6061490613d06046898d096a6e160bb3dd92bab0)
- switch to ls-remote with --get-url flag [`9161c4d`](https://github.com/ljharb/can-merge/commit/9161c4decff1b1d8811b2ca95a83dc292681e66d)
- [eslint] fix linting errors [`a440f29`](https://github.com/ljharb/can-merge/commit/a440f29f3c33ff6e0814bfd2c40fb897e6bb0eed)
- [Refactor] remove `--token` alias; prioritize `GH_TOKEN` [`0966e95`](https://github.com/ljharb/can-merge/commit/0966e953831809627ea77f5916f06c96928fdf96)
- [eslint] lint bin files too [`0c5c9d8`](https://github.com/ljharb/can-merge/commit/0c5c9d822ea639df07eef20af71d3e6ffa817dae)
- [Deps] update `yargs` [`2017cde`](https://github.com/ljharb/can-merge/commit/2017cde3edac1507184cb7dbcc428fe6cbefc4fe)
- [Breaking] remove `dotenv` [`03e33a9`](https://github.com/ljharb/can-merge/commit/03e33a92ef29cb1844a1b1c510b249a18834b2b0)
- [Dev Deps] update `markdown-magic` [`1e4d629`](https://github.com/ljharb/can-merge/commit/1e4d629d1bf6a77aae353e5e2e4490bbf3beda73)
- [Fix] `evaluatePending`: on a commit with no PR checks, `edges` is an empty array [`9be36d0`](https://github.com/ljharb/can-merge/commit/9be36d0130f843352bc45382091e8981a8fd957e)
- [Fix] parsing response for `evaluatePending` [`a7182a5`](https://github.com/ljharb/can-merge/commit/a7182a55489f703911eb5af784c6447218a33750)
- [Fix] fix a small typo from #40 [`fa89c6d`](https://github.com/ljharb/can-merge/commit/fa89c6df40873d6a2f7e3292031b96d077d4eeb2)
- [meta] another try to hide mock diffs [`b712c73`](https://github.com/ljharb/can-merge/commit/b712c7311e9ea99755abe58ad93a65b2281d107f)
- [Dev Deps] update `eslint` [`eaf4b4f`](https://github.com/ljharb/can-merge/commit/eaf4b4f5f931dd9bc9098f569cdfdd456c50fd43)
- [Deps] update `yargs` [`438f94a`](https://github.com/ljharb/can-merge/commit/438f94ab649ccc97086300e90202a392e38c11b4)
- [Dev Deps] update `tape` [`0444021`](https://github.com/ljharb/can-merge/commit/0444021bae39a6ca5bb1cff6830044e5029064ca)
- [Fix] avoid the console clear unless in `watch` mode [`3a44b5d`](https://github.com/ljharb/can-merge/commit/3a44b5d10a255a4173f22c6bcee2795dcdf14e6b)
- [Fix] `getRepo`: strip `.git` from repo name [`2487a76`](https://github.com/ljharb/can-merge/commit/2487a766db09868e7dbf871fd4410d7f49cf3201)
- [readme] update required node version [`ada7bec`](https://github.com/ljharb/can-merge/commit/ada7becdf0b0ad8c46c2378e22a10719f3bdd6ee)
- [Deps] update `yargs` [`b4dd8ee`](https://github.com/ljharb/can-merge/commit/b4dd8ee9955608302facd4a995e4ba6f7d10b0f1)
- [eslint] fix extends [`2583271`](https://github.com/ljharb/can-merge/commit/25832714b7d7a1625d89908eb1dad3fc3cf48250)
- [eslint] fix linting error [`9700558`](https://github.com/ljharb/can-merge/commit/97005580022e65efe5b23dee13a08bba1efb36a2)
- [Fix] do not require `--token` if `$GH_TOKEN` is present [`e9c830a`](https://github.com/ljharb/can-merge/commit/e9c830a9b15c84b39d9a162061cd25b4b2283a28)
- [Deps] update `yargs` [`d04e2f0`](https://github.com/ljharb/can-merge/commit/d04e2f06b759ef990913c64334b55b2d12d0782b)
- [Dev Deps] update `eslint` [`79c8a69`](https://github.com/ljharb/can-merge/commit/79c8a69b3ac58fbd175a409654c5f64250162f53)
- [deps] remove unused `dedent` [`afd9018`](https://github.com/ljharb/can-merge/commit/afd9018be932a304a3d26245c137f29862d0bff8)
- Only apps should have lockfiles [`5412754`](https://github.com/ljharb/can-merge/commit/5412754d7ae29928b60c2428eb688e69ce6573ca)
- [Tests] Refactor `watch` mocks reflect search api [`6785fc6`](https://github.com/ljharb/can-merge/commit/6785fc68f679b1735b277ab8e2302071f4445d0b)
- [Fix] chmod a+x bin/can-merge [`659e5ba`](https://github.com/ljharb/can-merge/commit/659e5ba72a7c99e7e4c0e25dbf8a43d6abf7f277)
